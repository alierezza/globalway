
<div class="row">
  <div class="col-md-7 header_board">MSB STITCHING VISUAL BOARD</div>
  <div class="col-md-3 header_board">
    <div id="clockbox"></div>
  </div>
  <div class="col-md-2" style="font-size: 28px; margin-top: 8px;">
    <%= Date.today.strftime("%d %B %Y") %>
  </div>
</div>

<h3>PT. GLOBAL WAY INDONESIA</h3>

<div id="myCarousel" class="carousel slide">

  <!-- Wrapper for slides -->
  <div class="carousel-inner">
    <div class="item">
      <div id="board">
        <%= render "table" %>
      </div>
    </div>
    <div class="item  active">
      <div id="board_graph">
        <%= render "graph" %>
      </div>
    </div>
  </div>

  <!-- Controls -->
  <a class="left carousel-control" href="#myCarousel" data-slide="prev" style="left: -20px;">
    <span class="icon-prev"></span>
  </a>
  <a class="right carousel-control" href="#myCarousel" data-slide="next" style="right: -20px;">
    <span class="icon-next"></span>
  </a>
</div>


<script>
$('.carousel').carousel({
   interval: 15000 //changes the speed
  })

function GetClock(){
  var d=new Date();
  var nhour=d.getHours(),nmin=d.getMinutes(),nsec=d.getSeconds();
  if(nmin<=9) nmin="0"+nmin
  if(nsec<=9) nsec="0"+nsec;

  document.getElementById('clockbox').innerHTML=""+nhour+":"+nmin+":"+nsec+"";
}


$(function(){
GetClock();
setInterval(GetClock,1000);

})

function refresh(){
    //get the mins of the current time
    var hours = new Date().getHours();
    var mins = new Date().getMinutes();
    var secs = new Date().getSeconds();

    $.get("/boards", {refresh: true}, null, "script");
    

}
 id = setInterval(refresh, 2000);



function clear_interval(id){
  window.clearInterval(id);
}


</script>